<h2 mat-dialog-title>{{tituloAccion}} Cliente</h2>

<mat-dialog-content>
  <form [formGroup]="formularioCliente">
    <mat-grid-list cols="1" rowHeight="80px">

      <mat-grid-tile>
        <mat-form-field appearance="outline">
          <mat-label>Nombres</mat-label>
          <input matInput autocomplete="off" formControlName="nombres">
          <mat-icon matSuffix>account_box</mat-icon>
        </mat-form-field>
      </mat-grid-tile>

      <mat-grid-tile>
        <mat-form-field appearance="outline">
          <mat-label>Apellidos</mat-label>
          <input matInput autocomplete="off" formControlName="apellidos">
          <mat-icon matSuffix>account_box</mat-icon>
        </mat-form-field>
      </mat-grid-tile>

      <mat-grid-tile>
        <mat-form-field appearance="outline">
          <mat-label>Tipo Documento</mat-label>
          <mat-select formControlName="tipoDocumento" (selectionChange)="onTipoDocumentoChange($event.value)">
            <mat-option [value]="'DNI'">DNI</mat-option>
            <mat-option [value]="'RUC'">RUC</mat-option>
          </mat-select>
          <mat-icon matSuffix>assignment</mat-icon>
        </mat-form-field>
      </mat-grid-tile>

      <mat-grid-tile>
        <mat-form-field appearance="outline">
          <mat-label>Número Documento</mat-label>
          <input matInput formControlName="numeroDocumento" (input)="onInputChange($event)" [maxlength]="maxLength" type="text">
          <mat-error *ngIf="formularioCliente.get('numeroDocumento')?.hasError('required')">El número es obligatorio</mat-error>
          <mat-error *ngIf="formularioCliente.get('numeroDocumento')?.hasError('maxlength')">Longitud inválida</mat-error>
          <mat-error *ngIf="formularioCliente.get('numeroDocumento')?.hasError('pattern')">El número debe ser un valor numérico positivo</mat-error>
          <mat-icon matSuffix>assignment_ind</mat-icon>
        </mat-form-field>
      </mat-grid-tile>

      <mat-grid-tile>
        <mat-form-field appearance="outline">
          <mat-label>Ciudad</mat-label>
          <input matInput autocomplete="off" formControlName="ciudad">
          <mat-icon matSuffix>map</mat-icon>
        </mat-form-field>
      </mat-grid-tile>

      <mat-grid-tile>
        <mat-form-field appearance="outline">
          <input matInput autocomplete="off"
          placeholder="Fecha de Nacimiento (*)"
          [matDatepicker]="dtpFechaNacimiento" formControlName="fechaNacimiento"
          (click)="dtpFechaNacimiento.open()">
          <mat-datepicker-toggle matSuffix [for]="dtpFechaNacimiento"></mat-datepicker-toggle>
          <mat-datepicker #dtpFechaNacimiento></mat-datepicker>
        </mat-form-field>
      </mat-grid-tile>

      <mat-grid-tile>
        <mat-form-field appearance="outline">
          <mat-label>Correo</mat-label>
          <input matInput autocomplete="off" formControlName="correo">
          <mat-icon matSuffix>mail</mat-icon>
        </mat-form-field>
      </mat-grid-tile>

      <mat-grid-tile>
        <mat-form-field appearance="outline">
          <mat-label>Teléfono</mat-label>
          <input type="text" matInput autocomplete="off" formControlName="telefono"
                 (input)="onTelefonoInputChange($event)" maxlength="9">
          <mat-icon matSuffix>phone</mat-icon>
          <mat-error *ngIf="formularioCliente.get('telefono')?.hasError('required')">El teléfono es obligatorio</mat-error>
          <mat-error *ngIf="formularioCliente.get('telefono')?.hasError('pattern')">El teléfono debe ser numérico y comenzar con 9</mat-error>
          <mat-error *ngIf="formularioCliente.get('telefono')?.hasError('minlength')">El teléfono debe tener 9 caracteres</mat-error>
          <mat-error *ngIf="formularioCliente.get('telefono')?.hasError('maxlength')">El teléfono debe tener 9 caracteres</mat-error>
        </mat-form-field>
      </mat-grid-tile>


      <mat-grid-tile>
        <mat-form-field appearance="outline">
          <mat-label>Estado</mat-label>
          <mat-select formControlName="esActivo">
            <mat-option [value]="true">Disponible</mat-option>
            <mat-option [value]="false">No Disponible</mat-option>
          </mat-select>
        </mat-form-field>
      </mat-grid-tile>

    </mat-grid-list>
  </form>
</mat-dialog-content>

<mat-dialog-actions align="end">
  <button mat-raised-button matDialogClose color="warn">Volver</button>
  <button mat-raised-button color="primary" [disabled]="formularioCliente.invalid"
    (click)="guardarEditar_Cliente()">{{botonAccion}}</button>
</mat-dialog-actions>
